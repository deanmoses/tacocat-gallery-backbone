<!doctype html>
<html>

    <head>
        <meta charset="UTF-8">
        
        <title>Dean, Lucie, Felix and Milo Moses</title>

        <meta name="viewport" content="width=device-width, initial-scale=1.0">

        <link type="text/css" rel="stylesheet" href="assets/styles/css/main.css" />

    </head>

    <body>
	    
	    <div id="page">

	    </div>
	    <script>
	        var require = {
	           urlArgs : "v=3"
	        };
	    </script>
        <script src="assets/js/lib/require-2.1.4-min.js"></script>
        <script>
			//
			// Configure require.js
			//
			require.config({
			
				baseUrl: 'assets/js',

				paths: {
			        'jquery': 'lib/jquery-1.9.1.min',
			        'lodash': 'lib/lodash.underscore.min.1.0.0.rc3',
			        'backbone': 'lib/backbone',
			        'handlebars': 'lib/handlebars.1.0.rc2',
			        'wysihtml5': 'modules/wysihtml5-0.3.0.min',
			        'wysihtml5-parser-rules': 'modules/wysihtml5-parser-rules-advanced'
			    },
			        
				shim: {
				    backbone: {
						deps: ['lodash', 'jquery'],  // Dependencies loaded before backbone
						exports: 'Backbone' // Once loaded, use the global 'Backbone' as the module value
				    },
				    lodash: {
				    	exports: "_"
				    },
				    handlebars: {
						exports: 'Handlebars'
				    },
				    wysihtml5: {
				    	deps: ['wysihtml5-parser-rules'],
					    exports: 'wysihtml5'
				    },
				    wysihtml5ParserRules: {
					    exports: 'wysihtml5ParserRules'
				    }
				}
			});
			
			window.gallery =  {
                app: {
                    models: {},
                    collections: {},
                    views: {}
                },
                
                backbone: {
                    models: {},
                    collections: {},
                    views: {}
                }
	        };

			
			//
			// Main application javascript
			//
			// require.js loads this, and this determines everything else to load
			//
			
			require(
				[
					'app'				
				], 
				function(App) {
					
				}
			);
        </script>

<!--
        <script>
        
        	
        
        
        
            window.gallery =  {
                app: {
                    models: {},
                    collections: {},
                    views: {}
                },
                
                backbone: {
                    models: {},
                    collections: {},
                    views: {}
                },
                
	            curlConfig: {
	                baseUrl: 'assets/js',
	                paths: {
	                    'jquery': 'lib/jquery-1.9.1.min.js',
	                    'lodash': 'lib/lodash.underscore.min.1.0.0.rc3.js',
	                    'backbone': 'lib/backbone',
	                    'handlebars': 'lib/handlebars.1.0.rc2.js'
	                },
	                preloads: [
	                	'js!jquery!order', 
	                	'js!lodash!order', 
	                	'js!backbone!order', 
	                	'js!handlebars!order'
	                ]
	            }
	        };

	        curl(gallery.curlConfig, ['app'], function(App) {});
        </script>
        
        -->
        <script type="text/x-handlebars" id="root_album_header_template">
        	<header class="header">
	            <div class="header-primary clearfix">
	                <h1>Dean, Lucie, Felix and Milo Moses</h1>
	            </div>
	        </header>
	        <section class="album root">
	        		<section id="thumbnails"></section>
	        </section>
        </script>
        
        <script type="text/x-handlebars" id="year_album_header_template">
        	<header class="header">
	            <div class="header-primary clearfix">
	            	<div class="button-group float-right">
	                    <a href="#v/" class="button">&#x2039; Back</a>
	                </div>
	                <h1><a href="#v/">{{title}}</a></h1>
	            </div>
	            <div class="header-secondary clearfix">
	                <div class="years">
	                   	<a href="#v/2013">2013</a>
	                    <a href="#v/2012">2012</a>
	                    <a href="#v/2011">2011</a>
	                    <a href="#v/2010">2010</a>
	                    <a href="#v/2009">2009</a>
	                    <a href="#v/2008">2008</a>
	                    <a href="#v/2007">2007</a>
	                    <a href="/pix/2006/index.php">2006</a>
	                    <a href="/pix/2005/index.php">2005</a>
	                    <a href="/pix/2004/index.php">2004</a>
	                    <a href="/pix/2003/index.php">2003</a>
	                    <a href="/pix/2002/index.php">2002</a>
	                    <a href="/pix/2001/index.php">2001</a>
	                </div>
	            </div>
	        </header>
	        <section class="album year">
	        	{{#if description}}<section class="album-description">{{{description}}}</section>{{/if}}
	        	<section id="thumbnails"></section>
	        </section>
        </script>
        
        <script type="text/x-handlebars" id="week_album_header_template">
        	<header class="header">
	            <div class="header-primary clearfix">
	            	<div class="button-group float-right">
	                    <a href="#v/{{parentAlbumPath}}" class="button">&#x2039; Back</a>
	                </div>
	                <h1><a href="#v/{{parentAlbumPath}}">{{title}}</a></h1>
	            </div>
	        </header>
	        <section class="album week">
	        	{{#if description}}<section class="album-description">{{{description}}}</section>{{/if}}
	        	<section id="thumbnails"></section>
	        </section>
        </script>
        
        <script type="text/x-handlebars" id="thumbnail_month_template">
        		<fieldset>
        			<legend>{{name}}</legend>
        			{{#each albums}}
	            <div class="thumbnail">
						<a href="#{{url}}"><img src="{{thumbnail.url}}" width="{{thumbnail.width}}px" height="{{thumbnail.height}}px" alt="{{thumbnail.title}}"/></a>
						<a href="#{{url}}" style="width:{{thumbnail.width}}px" class="title">{{title}}</a>
						{{#if summary}}<div style="width:{{thumbnail.width}}px" class="summary">{{{summary}}}</div>{{/if}}
					</div>
					{{/each}}
				</fieldset>
        </script>
        
        <script type="text/x-handlebars" id="thumbnail_template">
            <div class="thumbnail">
				<a href="#{{url}}"><img src="{{thumbnail.url}}" width="{{thumbnail.width}}px" height="{{thumbnail.height}}px" alt="{{thumbnail.title}}"/></a>
				<a href="#{{url}}" style="width:{{thumbnail.width}}px">{{title}}</a>
			</div>
        </script>
        
        <script type="text/x-handlebars" id="photo_template">
        	<div class="container-table photo-page {{orientation}}">
			    <section class="container-table-row header">
			    	<div class="container-table-cell" id="photo-info">
				    	<div class="button-group float-right">
		            	 	<a class="button" {{#if prevPhoto}}href="#{{prevPhoto.url}}"{{/if}}>&#x2039; Prev</a>
		                    <a class="button" href="#{{album.url}}">Album</a>
		                    <a class="button" {{#if nextPhoto}}href="#{{nextPhoto.url}}"{{/if}}>Next &#x203A;</a>
		                </div>
						<h1><a href="#v/">{{title}}</a></h1>
						<div class="caption">
				            {{{description}}}
			        	</div>
			        	<div class="admin-controls">
			         	<a class="caption-button">caption</a> | <a>edit</a>
			         </div>
			    	</div>
			    </section>
			    <div class="container-table-row image">
		       		<div class="container-table-cell">
	       				<div class="container-inner">
	       					<img src="http://tacocat.com/pictures/d/{{id}}-3/{{pathComponent}}" style="max-width: {{width}}px; max-height: {{height}}px" />
						</div>
		       		</div>
		    	 </div>
			</div>
        </script>
        
        <script type="text/x-handlebars" id="photo_caption_edit_template">
	        <link type="text/css" rel="stylesheet" href="assets/styles/css/editor/stylesheet.css" />
        	<div class="caption-edit-controls">
	        	<input type="text" name="title" value="{{{title}}}" />
	        	
				<div id="wysihtml5-editor-toolbar">
					<header>
						<ul class="commands">
							<li data-wysihtml5-command="bold" title="Make text bold (CTRL + B)" class="command"></li>
							<li data-wysihtml5-command="italic" title="Make text italic (CTRL + I)" class="command"></li>
							<!--<li data-wysihtml5-command="underline" title="Make text underline (CTRL + U)" class="command"></li>-->
							<li data-wysihtml5-command="insertUnorderedList" title="Insert an unordered list" class="command"></li>
							<li data-wysihtml5-command="createLink" title="Insert a link" class="command"></li>
							<li data-wysihtml5-action="change_view" title="Show HTML" class="action"></li>
						</ul>
					</header>
					<div data-wysihtml5-dialog="createLink" style="display: none;">
						<label>
							Link:
							<input data-wysihtml5-dialog-field="href" value="http://">
						</label>
						<a data-wysihtml5-dialog-action="save">OK</a>&nbsp;<a data-wysihtml5-dialog-action="cancel">Cancel</a>
					</div>
					
					<div data-wysihtml5-dialog="insertImage" style="display: none;">
						<label>
							Image:
							<input data-wysihtml5-dialog-field="src" value="http://">
						</label>
						<a data-wysihtml5-dialog-action="save">OK</a>&nbsp;<a data-wysihtml5-dialog-action="cancel">Cancel</a>
					</div>
				</div>
				
				<section>
					<textarea id="caption" spellcheck="true" wrap="on" autofocus placeholder="Enter caption ...">
						{{{description}}}
					</textarea>
				</section>
	        	
	        	<div class="button-group">
            	 	<a class="button cancel">Cancel</a>
                    <a class="button submit success active">Save</a>
                </div>
        	</div>
        </script>

    </body>

</html>